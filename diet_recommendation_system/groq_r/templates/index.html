<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diet Recommendation System</title>
    <script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 800px;
            margin: 50px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h2 {
            text-align: center;
            color: #007bff;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        label {
            margin-top: 10px;
            font-weight: bold;
        }
        input, select, textarea {
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            margin-top: 20px;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        .output {
            margin-top: 20px;
            padding: 10px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>Diet Recommendation System</h2>
        <form id="dietForm">
            <!-- Basic Details -->
            <h3>Basic Details</h3>
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>
            
            <label for="age">Age:</label>
            <input type="number" id="age" name="age" required>
            
            <label for="gender">Gender:</label>
            <select id="gender" name="gender">
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
            </select>
            
            <label for="weight">Weight (kg):</label>
            <input type="number" id="weight" name="weight" required>
            
            <label for="height">Height (cm):</label>
            <input type="number" id="height" name="height" required>
            
            <label for="activity_level">Activity Level (1-5):</label>
            <input type="number" id="activity_level" name="activity_level" min="1" max="5" required>
            
            <!-- Medical Details -->
            <h3>Medical Details</h3>
            <label>Diabetic:</label>
            <input type="radio" name="diabetic" value="Yes"> Yes
            <input type="radio" name="diabetic" value="No"> No<br>
            
            <label for="allergic">Allergic:</label>
            <input type="text" id="allergic" name="allergic" placeholder="Specify or write NA" required>
            
            <label>Heart Disease:</label>
            <input type="radio" name="heart_disease" value="Yes"> Yes
            <input type="radio" name="heart_disease" value="No"> No<br>
            
            <label for="systole">Blood Pressure (Systole):</label>
            <input type="number" id="systole" name="systole">
            
            <label for="diastole">Blood Pressure (Diastole):</label>
            <input type="number" id="diastole" name="diastole">
            
            <label for="pulse">Pulse:</label>
            <input type="number" id="pulse" name="pulse">
            
            <label for="cholesterol">Cholesterol (mg/dL):</label>
            <input type="number" id="cholesterol" name="cholesterol">
            
            <label for="digestive_problem">Digestive Problem:</label>
            <input type="text" id="digestive_problem" name="digestive_problem">
            
            <label>Genetic Disorder:</label>
            <input type="radio" name="genetic_disorder" value="Yes"> Yes
            <input type="radio" name="genetic_disorder" value="No"> No<br>
            
            <label for="anything_else">Anything Else:</label>
            <textarea id="anything_else" name="anything_else"></textarea>
            
            <!-- Fitness Goal -->
            <h3>Fitness Goal</h3>
            <label for="body_condition">Body Condition:</label>
            <select id="body_condition" name="body_condition">
                <option value="Underweight">Underweight</option>
                <option value="Average">Average</option>
                <option value="Overweight">Overweight</option>
            </select>
            
            <label for="goal">Goal:</label>
            <select id="goal" name="goal">
                <option value="Weight Loss">Weight Loss</option>
                <option value="Muscle Gain">Muscle Gain</option>
                <option value="Maintenance">Maintenance</option>
            </select>
            
            <label for="target_days">Target Days:</label>
            <input type="number" id="target_days" name="target_days" min="1" max="90">
            
            <label for="exercise_type">Exercise Type:</label>
            <select id="exercise_type" name="exercise_type">
                <option value="Cardiac">Cardiac</option>
                <option value="Strength">Strength</option>
                <option value="Yoga">Yoga</option>
                <option value="Others">Others</option>
            </select>
            
            <label for="exercise_frequency">Exercise Frequency:</label>
            <select id="exercise_frequency" name="exercise_frequency">
                <option value="Frequently">Frequently</option>
                <option value="Moderate">Moderate</option>
                <option value="Rarely">Rarely</option>
            </select>
            
            <!-- Food Preference -->
            <h3>Food Preference</h3>
            <label for="food_preference">Food Preference:</label>
            <select id="food_preference" name="food_preference">
                <option value="Vegetarian">Vegetarian</option>
                <option value="Vegan">Vegan</option>
                <option value="Pescatarian">Pescatarian</option>
                <option value="Non-Vegetarian">Non-Vegetarian</option>
                <option value="Keto / Low-carb">Keto / Low-carb</option>
                <option value="Gluten-free">Gluten-free</option>
                <option value="Lactose-free">Lactose-free</option>
                <option value="Mediterranean">Mediterranean</option>
            </select>
            
            <label for="food_liked">Food Liked:</label>
            <textarea id="food_liked" name="food_liked"></textarea>
            
            <label for="food_disliked">Food Disliked:</label>
            <textarea id="food_disliked" name="food_disliked"></textarea>
            
            <!-- Lifestyle and Habits -->
            <h3>Lifestyle and Habits</h3>
            <label>Smoking:</label>
            <input type="radio" name="smoking" value="Yes"> Yes
            <input type="radio" name="smoking" value="No"> No<br>
            
            <label>Alcoholic:</label>
            <input type="radio" name="alcoholic" value="Yes"> Yes
            <input type="radio" name="alcoholic" value="No"> No<br>
            
            <label for="addiction">Any Other Addiction:</label>
            <textarea id="addiction" name="addiction"></textarea>
            
            <label for="stress_level">Stress Level (1-5):</label>
            <input type="number" id="stress_level" name="stress_level" min="1" max="5">
            
            <label for="sleep_quality">Sleep Quality (1-5):</label>
            <input type="number" id="sleep_quality" name="sleep_quality" min="1" max="5">
            
            <label for="water_intake">Water Intake per Day (L):</label>
            <input type="number" id="water_intake" name="water_intake" step="0.1">
            
            <!-- Special Considerations -->
            <h3>Special Considerations</h3>
            <label for="pregnant_breastfeeding">Pregnant / Breastfeeding (if applicable):</label>
            <input type="text" id="pregnant_breastfeeding" name="pregnant_breastfeeding">
            
            <label for="religious_cultural_pref">Religious or Cultural Preferences:</label>
            <textarea id="religious_cultural_pref" name="religious_cultural_pref"></textarea>
            
            <label for="budget_constraints">Budget Constraints:</label>
            <textarea id="budget_constraints" name="budget_constraints"></textarea>
            
            <button type="button" onclick="submitForm()">Submit</button>
        </form>
        
        <div class="output" id="output"></div>
    </div>

    <script>
        async function submitForm() {
            const formData = new FormData(document.getElementById("dietForm"));
            const data = {};
            formData.forEach((value, key) => data[key] = value);

            // Send data to Flask backend for Groq API
            const response = await fetch('/recommend', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });
            const result = await response.json();
            document.getElementById("output").innerText = JSON.stringify(result, null, 2);
        }
    </script>
</body>
</html>